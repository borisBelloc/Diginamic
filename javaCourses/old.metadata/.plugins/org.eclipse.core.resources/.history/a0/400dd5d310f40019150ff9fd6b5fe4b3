package bookstore2;

import javax.persistence.EntityManager;
import javax.persistence.TypedQuery;

import models.Book;
import models.Client;

public class Utils {
	
//	public static void buyBook( Client client, Book book ) {
//		client.getId();
//		book.getId();
//		
//		client.setAddBook(book);
//	}
	
	public static void getBookFromClient(Client client) {
		
		// Select distinct * from book
		// join achat on book.id = boughtbooks_id
		
		EntityManager em = DatabaseHelper.createEntityManager();

		
		TypedQuery<Book> query = em.createQuery(
		"select b " +
		"from Book b " +
		"inner join b.client " +
		"where b.id =:id ", Book.class);
		query.setParameter("id", 1L);
		User u = query.getSingleResult();
		
		DatabaseHelper.commitTxAndClose(em);

		
		
	}
	

}
